<%
  message_body_class = if message.is_msg_sent_immediately_after_last_message_from_same_user
                         "px-6 py-3 rounded-l-full bg-blue-700 max-w-xs lg:max-w-md"
                       else
                         "px-6 py-3 rounded-t-full rounded-l-full bg-blue-700 max-w-xs lg:max-w-md"
                       end
%>

<% if message.body.present? || message.icon_type? %>
  <%= render partial: 'chat/content/sender/message_body', locals: { message: message, message_body_class: message_body_class } %>
<% end %>

<% if message.attachments.attached? %>
  <% message.attachments.each_with_index do |attachment, index| %>
    <%= render partial: 'chat/content/sender/message_attachment', locals: { message: message, attachment: attachment } %>
  <% end %>
<% end %>
